@page "/library"

<!-- Bosing, Leanne Cassandra R. -->
<!-- BSIT - 601 -->

<div class="main-container">
    <!-- Header -->
    <header class="header-bg text-center mb-8 py-6 rounded-xl">
        <div class="header-flex">
            <svg class="logo-svg" viewBox="0 0 40 40" fill="none">
                <rect x="5" y="5" width="30" height="30" rx="2" fill="#F9D5A7" stroke="#8B5E3C" stroke-width="2" />
                <rect x="10" y="10" width="8" height="20" rx="1" fill="#FF9AA2" />
                <rect x="20" y="10" width="10" height="8" rx="1" fill="#B5EAD7" />
                <rect x="20" y="22" width="10" height="8" rx="1" fill="#C7CEEA" />
            </svg>
            <h1 class="main-title">Cozy Book Corner</h1>
        </div>
        <p class="subtitle">Your cute little library of wonders ✨📚</p>
    </header>

    <!-- Controls -->
    <div class="controls-flex">
        <div class="category-flex">
            <button class="category-btn active" data-category="all">All Books</button>
            <button class="category-btn" data-category="fantasy">Fantasy</button>
            <button class="category-btn" data-category="cooking">Cooking</button>
            <button class="category-btn" data-category="nature">Nature</button>
            <button class="category-btn" data-category="favorites">❤︎ Favorites</button>
        </div>
        <div class="view-flex">
            <button class="view-btn rounded-left @(CurrentView == "grid" ? "active" : "")" @onclick="@(() => SetView("grid"))">
                <svg xmlns="http://www.w3.org/2000/svg" class="icon-svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                          d="M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zm0 8a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zm8-8a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zm0 8a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z" />
                </svg>
            </button>
            <button class="view-btn rounded-right @(CurrentView == "list" ? "active" : "")" @onclick="@(() => SetView("list"))">
                <svg xmlns="http://www.w3.org/2000/svg" class="icon-svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                </svg>
            </button>
        </div>
    </div>

    <!-- Books Grid View -->
    <div id="grid-view" class="@(CurrentView == "grid" ? "" : "hidden") books-grid">
        @foreach (var book in Books)
        {
            <div class="book-card">
                <div class="book-cover mb-4 relative" style="background-color: #FFB7B2; height: 200px;">
                </div>
                <div class="flex justify-between items-start mb-2">
                    <h3 class="text-lg font-bold text-[#8B5E3C]">@book.Title</h3>
                    <button class="favorite-btn text-2xl">♡</button>
                </div>
                <p class="text-[#A67C52] text-sm mb-2">by @book.Author</p>
                <p class="text-[#8B5E3C] text-sm mb-4 flex-grow">@book.Description</p>
                <div class="amazon-btn text-white text-center px-3 py-1 bg-[#FF9A42] rounded cursor-default select-none">
                    Buy on Amazon
                </div>
            </div>
        }
    </div>

    <!-- Books List View -->
    <div id="list-view" class="@(CurrentView == "list" ? "" : "hidden") books-list">
        @foreach (var book in Books)
        {
            <div class="book-card book-card-list">
                <div class="book-cover-list" style="background-color: #FFB7B2;">
                </div>
                <div class="book-list-content">
                    <div class="flex justify-between items-start mb-2">
                        <h3 class="text-lg font-bold text-[#8B5E3C]">@book.Title</h3>
                        <button class="favorite-btn text-2xl">♡</button>
                    </div>
                    <p class="text-[#A67C52] text-sm mb-2">by @book.Author</p>
                    <p class="text-[#8B5E3C] text-sm mb-4">@book.Description</p>
                    <div class="flex items-center gap-2">
                        <span class="px-3 py-1 text-white text-xs rounded-full" style="background-color: #FFB7B2;">
                            @book.Category
                        </span>
                        <div class="amazon-btn text-white text-center px-3 py-1 bg-[#FF9A42] rounded cursor-default select-none">
                            Buy on Amazon
                        </div>
                    </div>
                </div>
            </div>
        }
    </div>
</div>

@code {
    public class Book
    {
        public string Title { get; set; }
        public string Author { get; set; }
        public string Color { get; set; }
        public string Category { get; set; }
        public string Description { get; set; }
        public string AmazonId { get; set; }
    }

    private List<Book> Books = new()
    {
        new Book {
            Title = "Harry Potter and the Goblet of Fire",
            Author = "J.K. Rowling",
            Color = "#FF9A42",
            Category = "fantasy",
            Description = "Harry is unexpectedly entered into a deadly magical tournament.",
            AmazonId = "0439139600"
        },
        new Book {
            Title = "Salt, Fat, Acid, Heat by Samin Nosrat",
            Author = "Samin Nosrat",
            Color = "#FFDAC1",
            Category = "cooking",
            Description = "A guide to mastering the four essential elements of great cooking.",
            AmazonId = "1476753830"
        },
        new Book {
            Title = "Braiding Sweetgrass",
            Author = "Robin Wall Kimmerer",
            Color = "#B5EAD7",
            Category = "nature",
            Description = "A botanist combines Indigenous wisdom and science to explore our relationship with nature.",
            AmazonId = "1571313567"
        },
        new Book {
            Title = "The Hobbit",
            Author = "J.R.R. Tolkien",
            Color = "#FFB7B2",
            Category = "fantasy",
            Description = "A reluctant hobbit embarks on a quest to reclaim a mountain from a dragon.",
            AmazonId = "054792822X"
        },
        new Book {
            Title = "The Hidden Life of Trees",
            Author = "Peter Wohlleben",
            Color = "#B5EAD7",
            Category = "nature",
            Description = "Reveals the secret communication and social networks of trees within forests.",
            AmazonId = "1771642483"
        },
        new Book {
            Title = "Kitchen Confidential",
            Author = "Anthony Bourdain",
            Color = "#FFDAC1",
            Category = "cooking",
            Description = "A candid memoir revealing the gritty realities of the culinary world from a chef's perspective.",
            AmazonId = "0060899220"
        },
        new Book {
            Title = "The Joy of Cooking",
            Author = "Irma S. Rombauer",
            Color = "#FF9A42",
            Category = "cooking",
            Description = "An enduring kitchen staple offering comprehensive recipes and techniques for cooks of all levels.",
            AmazonId = "1501169718"
        },
        new Book {
            Title = "A Court of Thorns and Roses",
            Author = "Sarah J. Maas",
            Color = "#FF9A42",
            Category = "fantasy",
            Description = "A mortal girl is taken to a magical land as punishment and uncovers deadly secrets.",
            AmazonId = "B00OZP5VRS"
        },
        new Book {
            Title = "Percy Jackson & The Olympians: The Lightning Thief ",
            Author = "Rick Riordan",
            Color = "#E2F8CB",
            Category = "fantasy",
            Description = "Stories of exploration and discovery in the highest mountains.",
            AmazonId = "0786838655"
        },
        new Book {
            Title = "A Walk in the Woods",
            Author = "Bill Bryson",
            Color = "#C7CEEA",
            Category = "nature",
            Description = "A boy discovers he's a demigod and must retrieve Zeus' stolen lightning bolt.",
            AmazonId = "0767902521"
        }
    };

    private string CurrentView = "grid";

    private void SetView(string view)
    {
        CurrentView = view;
    }
}